{"version":3,"sources":["../node_modules/peerjs/dist sync","redux/constants/index.js","utils/helpers.js","redux/reducers/user.js","redux/reducers/index.js","models/Player.js","models/PeerJS.js","components/QuestionView.js","components/WinnerView.js","components/LeaveButton.js","components/ErrorAlert.js","components/Join.js","components/Scoreboard.js","components/StartButton.js","models/Question.js","models/QuestionManager.js","models/Manager.js","components/CategoryDropdown.js","components/Host.js","utils/random.js","components/NameModal.js","components/JoinInput.js","redux/actions/index.js","static/logo.svg","components/Logo.js","App.js","redux/tracking.js","reportWebVitals.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","SET_USER_TYPE","SET_CATEGORY","SET_QUESTIONS","SET_CATEGORIES","SET_CURRENT_QUESTION","cleanUri","window","location","protocol","host","jsonParseSessionStorage","key","def","JSON","parse","sessionStorage","getItem","initialState","player","type","user","state","action","payload","category","categories","questions","current_question","rootReducer","combineReducers","base","console","warn","Player","conn","name","this","log","connectionId","score","answers","connected","data","send","round","answer","correct","noop","peerConfig","HostPeer","roomId","onConnectionOpened","onConnectionClosed","onError","peer","Peer","on","err","error","stringify","metadata","PlayerPeer","onData","onConnected","onClose","newConnection","p","retryTimeout","connect","open","clearTimeout","setTimeout","removeItem","setItem","QuestionView","question","isHost","onSelected","useState","selected","setSelected","selectionVariant","i","clickHandler","Number","target","Container","fluid","Card","Header","Body","Title","className","Row","xs","lg","Col","map","a","Button","variant","size","disabled","onClick","block","style","pointerEvents","Footer","WinnerView","players","length","winners","sorted","sort","b","top","filter","getWinners","winnerOne","numWinners","correctPlayersForQuestion","join","Table","striped","bordered","hover","q","_correct","Alert","icon","faSadTear","w","LeaveButton","text","trackingType","ReactGA","event","clear","reload","ErrorAlert","Heading","Join","setConnected","setQuestion","prepareRound","setPrepareRound","gameComplete","setGameComplete","setPeer","setError","newQuestion","prepareForRound","useEffect","showSpinner","spinner","Spinner","animation","Badge","choice","connections","forEach","c","Scoreboard","props","fontStyle","responsive","faUserCircle","color","faCheckSquare","StartButton","loadingText","isLoading","as","role","aria-hidden","shuffle","list","Math","random","Question","correct_answer","incorrect_answers","decodeURIComponent","incorrect","indexOf","correctIdx","QuestionManager","current","sessionToken","selectedCategory","populateQuestions","getSessionToken","getQuestions","getCategories","params","endpoint","searchParams","URLSearchParams","fetch","toString","response","json","apiRequest","command","token","num","query","results","d","trivia_categories","Manager","reset","questionManager","onRoundComplete","onGameComplete","onNewQuestion","existing","findIndex","update","push","sendQuestion","idx","disconnect","isRoundComplete","serialize","setCurrent","isCorrect","record","off","goToNextRound","forPlayer","checkRoundDone","prepareNextRound","nextRound","categoryToOption","value","label","CategoryDropDown","dispatch","useDispatch","useSelector","options","defaultValue","onChange","selectedOption","cat","find","manager","Host","setPlayers","started","setStarted","setCategories","setWinners","addPlayer","removeId","addEventListener","removeEventListener","populateCategories","then","md","ProgressBar","height","animated","now","max","newGame","randStringToUpperCase","replace","substr","randString","toUpperCase","placeholders","NameModal","arr","show","onSubmit","Modal","onHide","closeButton","Form","preventDefault","Group","Label","Control","required","placeholder","floor","JoinInput","setRoomId","showModal","setShowModal","roomIdIsInvalid","setRoomIdIsInvalid","roomIsValid","modalview","isInvalid","textTransform","width","fontSize","letterSpacing","textAlign","maxLength","substring","Feedback","setPlayer","_extends","Object","assign","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","fill","transform","_ref3","stroke","cx","cy","r","SvgLogo","_ref","svgRef","title","titleId","xmlns","viewBox","ref","gradientTransform","x1","y1","x2","y2","offset","stopColor","stopOpacity","ForwardRef","Logo","addAlertUserListener","alertUser","returnValue","stopSleep","noSleep","NoSleep","document","enableNoSleep","enable","App","history","replaceState","ui","fromStorage","setHost","eventsMap","trackEvent","ga","GoogleAnalytics","gaMiddleware","createMiddleware","logger","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","store","createStore","process","applyMiddleware","Sentry","dsn","integrations","Integrations","BrowserTracing","tracesSampleRate","render","getElementById"],"mappings":"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","file":"static/js/main.1d1b15ed.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 117;","export const SET_PLAYER_ROOM_ID = \"SET_PLAYER_ROOM_ID\";\nexport const SET_HOST = \"SET_HOST\";\nexport const SET_PLAYER = \"SET_PLAYER\";\nexport const SET_USER_TYPE = \"SET_USER_TYPE\";\nexport const SET_CATEGORY = \"SET_CATEGORY\";\nexport const SET_QUESTIONS = \"SET_QUESTIONS\";\nexport const SET_CATEGORIES = \"SET_CATEGORIES\";\nexport const SET_CURRENT_QUESTION = \"SET_CURRENT_QUESTION\";\n","export const roomIdNumChars = 4;\n\nexport const cleanUri = () => {\n  const { protocol, host } = window.location;\n  return `${protocol}//${host}`;\n};\n\nexport const getWinners = (players) => {\n  const sorted = players.sort((a, b) => b.score - a.score);\n  const top = sorted[0].score;\n  return sorted.filter(p => p.score === top);\n};\n\nexport const jsonParseSessionStorage = (key, def = {}) => {\n  try {\n    return JSON.parse(sessionStorage.getItem(key));\n  } catch (e) {\n    return def;\n  }\n};\n","import {\n  SET_USER_TYPE,\n} from \"../constants\";\n\nimport {\n  jsonParseSessionStorage,\n} from \"../../utils/helpers\";\n\nconst initialState = {\n  host: jsonParseSessionStorage(\"host_info\"),\n  player: jsonParseSessionStorage(\"player_info\"),\n  type: null,\n};\n\nconst user = (state = initialState, action = {}) => {\n  switch (action.type) {\n    case SET_USER_TYPE:\n      const { type, host, player } = action.payload;\n      return {...state, type, host, player};\n    default:\n      return state;\n  }\n};\n\nexport default user;\n","import {\n  SET_CATEGORY,\n  SET_CATEGORIES,\n  SET_QUESTIONS,\n  SET_CURRENT_QUESTION,\n} from \"../constants\";\n\nimport {combineReducers} from \"redux\";\n\nimport user from \"./user\";\n\nconst initialState = {\n  category: null,\n  categories: [],\n  questions: [],\n  current_question: null,\n};\n\nfunction base(state = initialState, action = {}) {\n  switch (action.type) {\n    case SET_CATEGORY:\n      return {...state, category: action.category};\n    case SET_CATEGORIES:\n      return {...state, categories: action.categories};\n    case SET_QUESTIONS:\n      return {...state, questions: action.questions};\n    case SET_CURRENT_QUESTION:\n      return {...state, current_question: action.current_question};\n    default:\n      console.warn(`no reducer found for action type: ${action.type}`);\n      return state;\n  }\n}\n\nconst rootReducer = combineReducers({\n    user,\n    base,\n});\nexport default rootReducer;\n","class Player {\n  constructor(conn, name) {\n    this.conn = conn;\n    console.log(`player: ${name} connectionId: ${conn.connectionId}`);\n    this.connectionId = conn.connectionId;\n    this.name = name;\n    this.score = 0;\n    this.answers = {};\n    this.connected = true;\n  }\n\n  send(data) {\n    this.conn.send(data);\n  }\n\n  update(player) {\n    this.conn = player.conn;\n    this.connectionId = player.conn.connectionId;\n    this.connected = true;\n  }\n\n  disconnect() {\n    this.connected = false;\n  }\n\n  record(round, answer, correct) {\n    this.answers[round] = {answer, correct};\n    if (correct) {\n      this.score++;\n    }\n  }\n\n  isRoundComplete(round) {\n    if (!this.connected) {\n      return true;\n    }\n    return !!this.answers[round];\n  }\n\n  // Cannot serialize `this.conn` when sending player details to peers\n  serialize() {\n    return {\n      name: this.name,\n      score: this.score,\n      answers: this.answers,\n      connected: this.connected,\n    };\n  }\n\n  reset() {\n    this.score = 0;\n    this.answers = {};\n  }\n}\n\nexport default Player;\n","// Relevant issues\n// https://github.com/peers/peerjs/issues/608\n// https://github.com/peers/peerjs/issues/671#issuecomment-657085176\n\nimport Peer from \"peerjs\";\nimport Player from \"./Player\";\n\nconst noop = () => { };\n\nconst peerConfig = (process.env.NODE_ENV === \"production\") ?\n  // Use default peerjs server\n  {} :\n  // Use local peerjs server for local dev\n  {\n    host: \"localhost\",\n    port: 9000,\n    path: \"/myapp\",\n    // debug: 3,\n  };\n\nexport function HostPeer(roomId, onConnectionOpened = noop, onConnectionClosed = noop, onError = noop) {\n  const peer = new Peer(roomId, peerConfig);\n  peer.on(\"error\", (err) => {\n    console.error(err);\n    console.error(err.type);\n    onError(err);\n  });\n\n  peer.on(\"open\", function (id) {\n    console.log(\"My peer ID is: \" + id);\n    peer.on(\"connection\", (conn) => {\n      console.log(`peer connected: ${conn.peer} ${JSON.stringify(conn.metadata)}`);\n\n      conn.on(\"destroy\", () => {\n        console.log(`conn destroyed: ${conn.peer} ${JSON.stringify(conn.metadata)}`);\n      });\n\n      conn.on(\"close\", () => {\n        console.log(`conn closed: ${conn.peer} ${JSON.stringify(conn.metadata)}`);\n        onConnectionClosed(conn.connectionId);\n      });\n\n      conn.on(\"open\", () => {\n        console.log(`conn open: ${conn.peer} ${JSON.stringify(conn.metadata)}`);\n        onConnectionOpened(new Player(conn, conn.metadata.name));\n      });\n    });\n  });\n  return peer;\n}\n\nexport function PlayerPeer(roomId, metadata = {}, onData = noop, onConnected = noop, onClose = noop, onError = noop) {\n  // hacky re-connect logic when the host disconnects\n  let conn;\n  const newConnection = (p) => {\n    let retryTimeout;\n\n    conn = p.connect(roomId, { metadata });\n\n    conn.on(\"open\", function () {\n      console.log(`open connection, connected: ${conn.open}`);\n      clearTimeout(retryTimeout);\n      onConnected();\n\n      conn.on(\"data\", function (data) {\n        console.log(\"Received\", data);\n        onData(data);\n      });\n\n      conn.on(\"close\", () => {\n        console.log(\"connection closed\");\n        newConnection(p);\n        onClose();\n      });\n    });\n\n    retryTimeout = setTimeout(() => {\n      clearTimeout(retryTimeout);\n      (conn && !conn.open) && newConnection(p);\n    }, 2*1000); // TODO: expontential backoff\n  };\n\n  const peer = new Peer(sessionStorage.getItem(\"peer_id\"), peerConfig);\n  peer.on(\"error\", (err) => {\n    // https://peerjs.com/docs.html#peeron-error\n    sessionStorage.removeItem(\"peer_id\");\n    onError(err);\n  });\n\n  peer.on(\"disconnected\", () => {\n    console.log(\"disconnected\");\n  });\n\n  peer.on(\"open\", function (id) {\n    console.log(\"My peer ID is: \" + id);\n    sessionStorage.setItem(\"peer_id\", id);\n    newConnection(peer);\n  });\n  return peer;\n}\n","import { useState } from \"react\";\nimport {\n  Col,\n  Container,\n  Row,\n  Button,\n  Card,\n} from \"react-bootstrap\";\n\n\nexport default function QuestionView({ question, isHost = false, onSelected = () => {}}) {\n  const [selected, setSelected] = useState(null);\n\n  const selectionVariant = (i) => {\n    if (isHost) {\n      return \"secondary\";\n    }\n    return selected === i ? \"info\" : \"outline-secondary\";\n  };\n  const clickHandler = (e) => {\n    setSelected(Number(e.target.id));\n    onSelected(Number(e.target.id));\n  };\n\n  return (\n    <Container fluid>\n      <Card>\n        <Card.Header>{question.category}</Card.Header>\n        <Card.Body>\n          <Card.Title className=\"pb-3\">{question.question}</Card.Title>\n          <Row xs={1} lg={2} className=\"justify-content-center\">\n            <Col>\n              {question.answers.map((a, i) => (\n                <Button\n                  variant={selectionVariant(i)}\n                  size=\"lg\"\n                  disabled={!!selected}\n                  key={a}\n                  id={i}\n                  onClick={clickHandler}\n                  block\n                  style={{ pointerEvents: isHost ? \"none\" : \"auto\" }}\n                >\n                  {a}\n                </Button>\n              ))}\n            </Col>\n          </Row>\n        </Card.Body>\n        {isHost && <Card.Footer className=\"text-muted blockquote-footer\">This is a read-only view of the question for the host</Card.Footer>}\n      </Card>\n    </Container>\n  );\n}\n","import {\n  Alert,\n  Table,\n} from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSadTear } from \"@fortawesome/free-solid-svg-icons\";\n\nconst getWinners = (players) => {\n  const sorted = players.sort((a, b) => b.score - a.score);\n  const top = sorted[0].score;\n  return sorted.filter(p => p.score === top);\n};\n\nconst WinnerView = ({ players, isHost = false, questions = [] }) => {\n  if (!players || players.length === 0) { return null; }\n  const winners = getWinners(players);\n  const winnerOne = winners[0];\n  const numWinners = winners.length;\n\n  const correctPlayersForQuestion = i => {\n    return players.filter(p => {\n      const answer = p.answers[i];\n      if (!!answer) {\n        return answer.correct;\n      } else {\n        return false;\n      }\n    }).map(p => p.name).join(\", \");\n  };\n\n  let answers;\n  if (isHost && questions.length > 0) {\n    answers = (\n      <Table striped bordered hover>\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Question</th>\n            <th>Answer</th>\n            <th>Correct Players</th>\n          </tr>\n        </thead>\n        <tbody>\n          {questions.map((q, i) => (\n            <tr key={i}>\n              <td>{i+1}</td>\n              <td>{q.question}</td>\n              <td>{q._correct}</td>\n              <td>{correctPlayersForQuestion(i+1)}</td>\n            </tr>\n          ))}\n        </tbody>\n      </Table>\n    );\n  }\n\n  if (winnerOne.score === 0) {\n    return (\n      <>\n        <Alert variant=\"warning\">\n          <FontAwesomeIcon icon={faSadTear} />\n          <br />\n          No one got any questions right.\n        </Alert>\n        {answers}\n      </>\n    );\n  }\n  if (numWinners === 1) {\n    return (\n      <>\n        <h1>\n          <strong>{winnerOne.name}</strong> won with <code>{winnerOne.score}</code> correct answers\n        </h1>\n        { answers }\n      </>\n    );\n  } else {\n    return (\n      <>\n        <h1>It's a {numWinners} way tie!</h1>\n        <p>Our winners are <strong>{winners.map(w => w.name).join(\", \")}</strong> with <code>{winnerOne.score}</code> correct answers</p>\n        {answers}\n      </>\n    );\n  }\n};\n\nexport default WinnerView;\n","import { Button } from \"react-bootstrap\";\nimport ReactGA from \"react-ga\";\n\nconst LeaveButton = ({ text, trackingType = null }) => {\n  return <Button\n    variant=\"danger\"\n    className=\"m-2\"\n    onClick={() => {\n      trackingType && ReactGA.event({\n        category: trackingType,\n        action: \"leave\",\n      });\n\n      sessionStorage.clear();\n      window.location.reload(true);\n    }}\n  >{text || \"Leave\"}</Button>;\n};\n\nexport default LeaveButton;\n","import { Alert } from \"react-bootstrap\";\n\nconst ErrorAlert = ({ error, variant = \"danger\" }) => {\n  return (\n    <Alert variant={variant}>\n      <Alert.Heading>Oh snap! You got an error!</Alert.Heading>\n      <p>\n        Refresh to retry or click \"Leave\" to return home.\n      </p>\n      <hr />\n      <p className=\"mb-0\">\n        {`${error}`}\n      </p>\n    </Alert>\n  );\n};\n\nexport default ErrorAlert;\n","import React, { useState, useEffect } from \"react\";\nimport {\n  Spinner,\n  Badge,\n} from \"react-bootstrap\";\nimport ReactGA from \"react-ga\";\n\nimport { PlayerPeer } from \"../models/PeerJS\";\nimport QuestionView from \"./QuestionView\";\nimport WinnerView from \"./WinnerView\";\nimport LeaveButton from \"./LeaveButton\";\nimport ErrorAlert from \"./ErrorAlert\";\n\nconst Join = ({ name, roomId }) => {\n  const [connected, setConnected] = useState(false);\n  const [question, setQuestion] = useState(null);\n  const [prepareRound, setPrepareRound] = useState(null);\n  const [gameComplete, setGameComplete] = useState(null);\n  const [peer, setPeer] = useState(null);\n  const [error, setError] = useState(null);\n\n  const onData = (data) => {\n    if (typeof data === \"object\") {\n      if (data.newQuestion) {\n        setPrepareRound(null);\n        setQuestion(data.newQuestion);\n      }\n      if (data.prepareForRound) {\n        setGameComplete(false);\n        setPrepareRound(data.prepareForRound);\n      }\n      if (data.gameComplete) {\n        setGameComplete(data.gameComplete);\n      }\n    }\n  };\n  const onConnected = () => setConnected(true);\n  const onClose = () => {\n    setConnected(false);\n    setPrepareRound(null);\n    setQuestion(null);\n    setGameComplete(false);\n  };\n\n  useEffect(() => {\n    !peer && setPeer(new PlayerPeer(roomId, { name, roomId }, onData, onConnected, onClose, setError));\n  }, [name, roomId, peer]);\n\n  const choiceSelected = (choice) => {\n    if (!peer.connections || !peer.connections[roomId]) {\n      console.error(`Not sending choice, no connections for roomId ${roomId}`);\n      return;\n    }\n    const send = (c) => c.send({ answer: choice, question: question.question });\n    peer.connections[roomId].forEach(send);\n    ReactGA.event({\n      category: \"Player\",\n      action: \"choice selected\",\n    });\n  };\n\n  const showSpinner = !connected && !error;\n  const spinner = <Spinner animation=\"border\" variant=\"primary\" />;\n\n  return (\n    <>\n      {error && <ErrorAlert error={error} />}\n      {showSpinner && spinner}\n      <h4 className=\"m-5\">{connected ? \"Joined\" : \"Joining\"} room <Badge variant=\"secondary\">{roomId}</Badge> {`as ${name}`}</h4>\n      {(!question && connected && !prepareRound) && <p>Waiting for host to start the game.</p>}\n      {(!question && !prepareRound) && <LeaveButton trackingType={\"Player\"}/>\n      }\n      {(!!prepareRound && !gameComplete) &&\n        <>\n          {spinner}\n          <h5>Prepare for round {prepareRound}</h5>\n        </>\n      }\n      {(question && !prepareRound && !gameComplete) && <QuestionView question={question} onSelected={choiceSelected} />}\n      {(!prepareRound && gameComplete) && <WinnerView players={gameComplete} />}\n    </>\n  );\n};\n\nexport default Join;\n","import {\n  Table,\n} from \"react-bootstrap\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCheckSquare, faUserCircle } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default function Scoreboard(props) {\n  const { players, round } = props;\n  players.sort((a, b) => b.score - a.score);\n\n  const correct = (p) => {\n    const _correct = p.answers[round - 1] && p.answers[round - 1].correct;\n    return _correct ? \"table-success\" : \"\";\n  };\n\n  const style = p => {\n    return {fontStyle: p.connected ? \"\" : \"italic\"};\n  };\n\n  return (\n    <Table striped bordered hover responsive size=\"sm\">\n      <thead>\n        <tr>\n          <th><FontAwesomeIcon icon={faUserCircle} color=\"rgb(251, 148, 71)\"/></th>\n          <th><FontAwesomeIcon icon={faCheckSquare} color=\"rgb(9, 120, 166)\"/></th>\n        </tr>\n      </thead>\n      <tbody>\n        {players.map((p, i)=> (\n          <tr className={correct(p)} style={style(p)} key={i}>\n            <td>{p.name}</td>\n            <td>{p.score}</td>\n          </tr>\n        ))}\n      </tbody>\n    </Table>\n  );\n}\n","import { Button, Spinner } from \"react-bootstrap\";\n\nconst StartButton = ({ text = \"Start\", loadingText = \"Waiting for players\", isLoading = true, onClick = () => {} }) => {\n  const spinner = <>\n    <Spinner\n        as=\"span\"\n        animation=\"border\"\n        size=\"sm\"\n        role=\"status\"\n        aria-hidden=\"true\"\n      /> {loadingText}\n    </>;\n\n  return (\n    <Button\n      variant=\"primary\"\n      disabled={isLoading}\n      onClick={!isLoading ? onClick : null}\n    >\n      {isLoading ? spinner : text}\n    </Button>\n  );\n};\n\nexport default StartButton;\n","const shuffle = (list) => {\n  return list.sort(() => Math.random() - 0.5);\n};\n\nexport default class Question {\n  constructor(props = {}) {\n    const { question, correct_answer, incorrect_answers, category } = props;\n    this._correct = decodeURIComponent(correct_answer);\n    const incorrect = incorrect_answers.map(decodeURIComponent);\n    this.category = decodeURIComponent(category);\n    this.question = decodeURIComponent(question);\n    this.answers = shuffle([this._correct, ...incorrect]);\n  }\n\n  correctIdx() {\n    return this.answers.indexOf(this._correct);\n  }\n  get(i) {\n    return this.answers[i];\n  }\n  isCorrect(i) {\n    return this.correctIdx() === Number(i);\n  }\n  // strip out the correct answer for the player\n  forPlayer() {\n    return {\n      question: this.question,\n      answers: this.answers,\n      category: this.category,\n    };\n  }\n}\n","import Question from \"./Question\";\n\nconst DEFAULT_QUESTIONS = 10;\n\nexport default class QuestionManager {\n  constructor() {\n    this.questions = [];\n    this.categories = [];\n    this.current = null;\n    this.sessionToken = null;\n    this.selectedCategory = null;\n  }\n\n  async reset() {\n    this.questions = [];\n    this.current = null;\n    await this.populateQuestions();\n  }\n\n  setCurrent(i) {\n    this.current = this.questions[i];\n  }\n\n  async populateQuestions() {\n    if (!this.sessionToken) {\n      this.sessionToken = await this.getSessionToken();\n    }\n    this.questions = await this.getQuestions(this.selectedCategory, this.sessionToken, DEFAULT_QUESTIONS);\n  }\n\n  async populateCategories() {\n    this.categories = await this.getCategories();\n  }\n\n  async apiRequest(params = {}, endpoint = \"api.php\") {\n    const searchParams = new URLSearchParams(params);\n    let response = await fetch(`https://opentdb.com/${endpoint}?${searchParams.toString()}`);\n    return await response.json();\n  }\n\n  async getSessionToken() {\n    const response = await this.apiRequest({ command: \"request\" }, \"api_token.php\");\n    return response.token;\n  }\n\n  async getQuestions(category = null, token = null, num = 1) {\n    const query = { \"amount\": num, \"encode\": \"url3986\" };\n\n    if (token) {\n      query[\"token\"] = token;\n    }\n\n    if (category) {\n      query[\"category\"] = category.id;\n    }\n\n    const response = await this.apiRequest(query);\n    return response.results.map(d => new Question(d));\n  }\n\n  async getCategories() {\n    const response = await this.apiRequest({}, \"api_category.php\");\n    return response.trivia_categories; //.reduce((a, x) => ({ ...a, [x.id]: x.name }), {0: \"All\"});\n  }\n}\n","import QuestionManager from \"./QuestionManager\";\n\nconst MID_ROUND_DELAY = 1000;\n\nexport default class Manager {\n  constructor() {\n    this.reset();\n  }\n\n  reset() {\n    this.players = [];\n    this.round = 0;\n    this.questionManager = new QuestionManager();\n    this.onRoundComplete = () => { };\n    this.onGameComplete = () => { };\n    this.onNewQuestion = () => { };\n  }\n\n  addPlayer(player) {\n    const existing = this.players.findIndex(p => p.name === player.name);\n    if (existing !== -1) {\n      this.players[existing].update(player);\n    } else {\n      this.players.push(player);\n    }\n    if (this.questionManager.current) {\n      this.sendQuestion();\n    }\n  }\n\n  questions() {\n    return this.questionManager.questions;\n  }\n\n  removeId(id) {\n    const idx = this.players.findIndex(p => p.connectionId === id);\n    if (idx !== -1) {\n      this.players[idx].disconnect();\n    }\n  }\n\n  checkRoundDone() {\n    const incomplete = this.players.filter(player => !player.isRoundComplete(this.round));\n    return incomplete.length === 0;\n  }\n\n  gameComplete() {\n    this.players.forEach(player => {\n      player.send({ \"gameComplete\": this.players.map(p => p.serialize()) });\n    });\n    this.onGameComplete();\n    this.questionManager.current = null;\n  }\n\n  sendQuestion() {\n    if (this.round > this.questions().length) {\n      this.gameComplete();\n      return;\n    }\n    this.questionManager.setCurrent(this.round-1);\n    console.log(`Question: ${this.questionManager.current.question}, answer: ${this.questionManager.current._correct}`);\n    this.players.forEach(player => {\n      const onData = (d) => {\n        console.log(`got message from player ${player.name}. Correct? ${this.questionManager.current.isCorrect(d.answer)}`);\n        player.record(this.round, d.answer, this.questionManager.current.isCorrect(d.answer));\n        player.conn.off(\"data\", onData);\n        this.goToNextRound();\n      };\n      player.conn.on(\"data\", onData);\n      player.send({\"newQuestion\": this.questionManager.current.forPlayer()});\n    });\n    this.onNewQuestion(this.questionManager.current.forPlayer());\n  }\n\n  goToNextRound() {\n    if (this.checkRoundDone()) {\n      this.prepareNextRound();\n    }\n  }\n\n  prepareNextRound() {\n    this.nextRound();\n    console.log(`round: ${this.round}, questions: ${this.questions().length}`);\n    if (this.round > this.questions().length) {\n      this.gameComplete();\n      return;\n    }\n\n    this.players.forEach(player => {\n      player.send({ \"prepareForRound\": this.round });\n    });\n    setTimeout(() => {\n      this.sendQuestion();\n    }, MID_ROUND_DELAY);\n  }\n\n  nextRound() {\n    this.round++;\n    this.onRoundComplete();\n  }\n\n  async newGame() {\n    await this.questionManager.reset();\n    this.round = 0;\n    this.players.forEach(p => p.reset());\n  }\n}\n","import { useDispatch, useSelector } from \"react-redux\";\nimport Select from \"react-select\";\nimport { SET_CATEGORY } from \"../redux/constants\";\n\nconst categoryToOption = (c) => {\n  return { value: c.id, label: c.name };\n};\n\nexport const CategoryDropDown = ({categories = [] }) => {\n  const dispatch = useDispatch();\n  const handleChange = selectedOption => {\n    const cat = categories.find(c => c.id === selectedOption.value);\n    dispatch({ type: SET_CATEGORY, category: cat });\n  };\n  const category = useSelector(state => state.base.category);\n\n  if (categories.length === 0) {\n    return null;\n  }\n\n  const options = [{value: 0, label: \"All\"}, ...categories.map(categoryToOption)];\n\n  return (\n    <div className=\"text-left\">\n      <label className=\"d-block\">Select a Category</label>\n      <Select\n        defaultValue={category ? categoryToOption(category) : options[0]}\n        onChange={handleChange}\n        options={options}\n      />\n    </div>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport {\n  Badge,\n  Row,\n  Col,\n  Spinner,\n  ProgressBar,\n} from \"react-bootstrap\";\nimport { useSelector } from \"react-redux\";\nimport ReactGA from \"react-ga\";\n\nimport Scoreboard from \"./Scoreboard\";\nimport WinnerView from \"./WinnerView\";\nimport { HostPeer } from \"../models/PeerJS\";\nimport LeaveButton from \"./LeaveButton\";\nimport StartButton from \"./StartButton\";\nimport QuestionView from \"./QuestionView\";\nimport Manager from \"../models/Manager\";\nimport { cleanUri } from \"../utils/helpers\";\nimport { CategoryDropDown } from \"./CategoryDropdown\";\nimport ErrorAlert from \"./ErrorAlert\";\n\nconst manager = new Manager();\n\nexport default function Host({ roomId }) {\n  manager.roomId = roomId;\n  const [players, setPlayers] = useState([]);\n  const [started, setStarted] = useState(false);\n  const [gameComplete, setGameComplete] = useState(false);\n  const [question, setQuestion] = useState(null);\n  const [prepareRound, setPrepareRound] = useState(null);\n  const [peer, setPeer] = useState(null);\n  const [categories, setCategories] = useState([]);\n  const [winners, setWinners] = useState(null);\n  const [error, setError] = useState(null);\n\n  const category = useSelector(state => state.base.category);\n\n  manager.onRoundComplete = () => {\n    setPrepareRound(manager.round);\n    // TODO: update players correctly\n    setPlayers([]);\n    setPlayers(manager.players);\n    ReactGA.event({\n      category: \"Round\",\n      action: \"completed\",\n      value: manager.round,\n    });\n  };\n  manager.onNewQuestion = (q) => {\n    setPrepareRound(null);\n    setQuestion(q);\n  };\n  manager.onGameComplete = () => {\n    setGameComplete(true);\n    setPrepareRound(null);\n    ReactGA.event({\n      category: \"Game\",\n      action: \"completed\",\n    });\n  };\n\n  // FIXME: is there a better way to ensure WinnerView is only rendered once when the round completes?\n  useEffect(() => {\n    setWinners(gameComplete ? <WinnerView players={players} isHost={true} questions={manager.questions()} /> : null);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [gameComplete]);\n\n  useEffect(() => {\n    const onConnectionOpened = (player) => {\n      console.log(`connection closed: ${player.connectionId}`);\n      manager.addPlayer(player);\n      // TODO: update players correctly\n      setPlayers([]);\n      setPlayers(manager.players);\n      ReactGA.event({\n        category: \"Player\",\n        action: \"joined\",\n      });\n    };\n    const onConnectionClosed = (id) => {\n      console.log(`connection closed: ${id}`);\n      manager.removeId(id);\n      // TODO: update players correctly\n      setPlayers([]);\n      setPlayers(manager.players);\n      ReactGA.event({\n        category: \"Player\",\n        action: \"left\",\n      });\n    };\n\n    if (!peer || peer.id !== roomId) {\n      setPeer(new HostPeer(roomId, onConnectionOpened, onConnectionClosed, setError));\n    }\n\n    const disconnect = () => {\n      if (peer) {\n        manager.reset();\n        peer.disconnect();\n      }\n    };\n    window.addEventListener(\"beforeunload\", disconnect);\n    return () => window.removeEventListener(\"beforeunload\", disconnect);\n  }, [roomId, peer]);\n\n  useEffect(() => {\n    if (manager.questionManager) {\n      manager.questionManager.selectedCategory = category;\n    }\n  }, [category]);\n\n  useEffect(() => {\n    manager.questionManager.populateCategories().then(() => {\n      setCategories(manager.questionManager.categories);\n    });\n  }, []);\n\n  useEffect(() => {\n    started && manager.questionManager.populateQuestions().then(() => {\n      manager.prepareNextRound();\n    });\n  }, [started]);\n\n  const newGame = () => {\n    ReactGA.event({\n      category: \"Game\",\n      action: \"new\",\n    });\n    manager.newGame().then(() => {\n      setGameComplete(false);\n      setStarted(true);\n      manager.prepareNextRound();\n    });\n  };\n\n  return (\n    <>\n    {error && <Row>\n      <Col>\n        <ErrorAlert error={error} />\n      </Col>\n    </Row>}\n\n    <Row>\n      <Col xs={12} md={8}>\n        <div className=\"mb-5\">\n          <h3>\n            <Badge variant=\"secondary\">{roomId}</Badge>\n          </h3>\n          <p className=\"small\">Others can join with this ID by going to <code>{cleanUri()}</code></p>\n        </div>\n        {(!started) && (\n          <>\n            <CategoryDropDown categories={categories} />\n            <StartButton isLoading={players.length === 0} onClick={() => setStarted(true)} />\n            <LeaveButton trackingType=\"Host\"/>\n          </>\n        )}\n        {(!!prepareRound && !gameComplete) &&\n          <>\n            <Spinner animation=\"border\" variant=\"primary\" />\n            <h5>Prepare for round {prepareRound}</h5>\n          </>\n        }\n        {(question && !prepareRound && !gameComplete) && (\n          <div>\n          <QuestionView question={question} isHost={true} />\n          <ProgressBar\n            className={\"mt-5\"}\n            style={{height: \"1.75rem\"}}\n            animated\n            now={manager.round}\n            label={`${manager.round} / ${manager.questions().length}`}\n            max={manager.questions().length}\n          />\n          </div>\n        )}\n        {(started && gameComplete) && <>\n          {winners}\n          <CategoryDropDown categories={categories} />\n          <StartButton onClick={() => newGame()} text={\"New Game\"} isLoading={false} />\n          <LeaveButton trackingType=\"Host\"/>\n        </>}\n      </Col>\n      <Col xs={12} md={4}>\n        <div className=\"pt-2\">\n          <Scoreboard players={players} round={prepareRound} />\n        </div>\n      </Col>\n    </Row>\n    </>\n  );\n}\n","export function randString(num) {\n  return Math.random().toString(36).replace(/[^a-z]+/g, \"\").substr(0, num);\n}\n\nexport function randStringToUpperCase(num) {\n  return randString(num).toUpperCase();\n}\n\nexport const random = (arr) => arr[Math.floor(Math.random() * arr.length)];\n","import {\n  Button,\n  Modal,\n  Form,\n} from \"react-bootstrap\";\nimport { random } from \"../utils/random\";\n\nconst placeholders = [\n  \"Moira Rose\",\n  \"Johnny Rose\",\n  \"David Rose\",\n  \"Alexis Rose\",\n  \"Stevie Budd\",\n  \"Patrick Brewer\",\n  \"Ted Mullens\",\n  \"Roland Schitt\",\n  \"Jocelyn Schitt\",\n];\n\nconst NameModal = ({show = false, onSubmit = () => { }, onClose = () => { }}) => {\n  const onFormSubmit = (e) => {\n    e.preventDefault();\n    const { value } = e.target[0];\n    value.length > 0 && onSubmit(value);\n  };\n\n  return (\n    <>\n      <Modal\n        show={show}\n        onHide={onClose}\n        animation={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>What's your name?</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form onSubmit={onFormSubmit}>\n            <Form.Group>\n              <Form.Label>Name</Form.Label>\n              <Form.Control\n                required\n                type=\"text\"\n                placeholder={random(placeholders)} />\n            </Form.Group>\n            <div className={\"mx-auto text-center\"}>\n              <Button type=\"submit\">Join</Button>\n            </div>\n          </Form>\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n};\n\nexport default NameModal;\n","import React, { useState } from \"react\";\nimport {\n  Form,\n  Button,\n} from \"react-bootstrap\";\nimport ReactGA from \"react-ga\";\nimport { useDispatch } from \"react-redux\";\nimport { setPlayer } from \"../redux/actions\";\nimport { roomIdNumChars } from \"../utils/helpers\";\nimport NameModal from \"./NameModal\";\n\nconst roomIsValid = (e) => e.length === roomIdNumChars;\n\nconst JoinInput = () => {\n  const [roomId, setRoomId] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [roomIdIsInvalid, setRoomIdIsInvalid] = useState(false);\n\n  const dispatch = useDispatch();\n\n  const handleInputChangeRoom = (e) => {\n    const { value } = e.target;\n    setRoomIdIsInvalid(false);\n    setRoomId(value.substring(0, roomIdNumChars).toUpperCase());\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!roomIsValid(roomId)) {\n      setRoomIdIsInvalid(true);\n      return;\n    }\n    setShowModal(true);\n    ReactGA.modalview(\"/join/name\");\n  };\n\n  const handleNameSubmit = (name) => {\n    setShowModal(false);\n    console.log(`Submitting name: ${name}, roomId: ${roomId}`);\n    const player = { roomId, name };\n    dispatch(setPlayer(player));\n    // ReactGA.event({\n    //   category: \"Player\",\n    //   action: \"joined\",\n    // });\n  };\n\n  return (\n    <>\n      <Form onSubmit={handleSubmit}>\n        <Form.Group>\n          <Form.Label>Game ID</Form.Label>\n\n          <Form.Control\n            required\n            isInvalid={!!roomIdIsInvalid}\n            id=\"roomId\"\n            type=\"text\"\n            placeholder=\"XXXX\"\n            className=\"mx-auto\"\n            style={{textTransform: \"uppercase\", width: \"7ch\", fontSize: \"4em\", letterSpacing: \"0.1em\", textAlign: \"center\"}}\n            maxLength={roomIdNumChars}\n            onChange={handleInputChangeRoom}\n          />\n          <Form.Control.Feedback type=\"invalid\">\n            {`Game ID should be ${roomIdNumChars} characters.`}\n          </Form.Control.Feedback>\n        </Form.Group>\n        <Button type=\"submit\">Join</Button>\n      </Form>\n      <NameModal show={showModal} onSubmit={handleNameSubmit} onClose={() => setShowModal(false)}/>\n    </>\n  );\n};\nexport default JoinInput;\n","import { SET_USER_TYPE } from \"../constants\";\n\nimport { jsonParseSessionStorage, roomIdNumChars } from \"../../utils/helpers\";\nimport { randStringToUpperCase } from \"../../utils/random\";\n\nexport const setPlayer = (player) => {\n  if (!player) {\n    player = jsonParseSessionStorage(\"player_info\");\n  }\n  sessionStorage.setItem(\"player_info\", JSON.stringify(player));\n  return { type: SET_USER_TYPE, payload: {type: \"player\", player: player} };\n};\n\nexport const setHost = (roomId) => {\n  if (!roomId) {\n    const fromStorage = jsonParseSessionStorage(\"host_info\");\n    roomId = (fromStorage && fromStorage.roomId) ?\n      fromStorage.roomId :\n      randStringToUpperCase(roomIdNumChars);\n  }\n  sessionStorage.setItem(\"host_info\", JSON.stringify({ roomId }));\n  return { type: SET_USER_TYPE, payload: {type: \"host\", host: { roomId }} };\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  \"data-v-423bf9ae\": \"\",\n  id: \"328dc37f-506d-403b-b9fa-d1faf7260b00\",\n  fill: \"#1F1E1A\",\n  transform: \"matrix(5.665722297967836,0,0,5.665722297967836,-0.11330753905463098,80.16714128833388)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.67 4.33L6.67 5.39L4.01 5.39L4.01 14.52L2.63 14.52L2.63 5.39L0.02 5.39L0.02 4.33L6.67 4.33ZM11.09 6.85L11.09 6.85L11.03 7.99L11.03 7.99Q10.77 7.96 10.54 7.96L10.54 7.96L10.54 7.96Q10.06 7.96 9.75 8.05L9.75 8.05L9.75 8.05Q9.45 8.15 9.30 8.38L9.30 8.38L9.30 8.38Q9.15 8.61 9.10 8.91L9.10 8.91L9.10 8.91Q9.04 9.21 9.04 9.71L9.04 9.71L9.04 9.71Q9.04 9.99 9.07 10.53L9.07 10.53L9.07 10.53Q9.09 11.07 9.09 11.30L9.09 11.30L9.09 14.52L7.75 14.52L7.75 7.02L8.97 7.02L9.11 7.86L9.11 7.86Q9.32 7.37 9.75 7.10L9.75 7.10L9.75 7.10Q10.18 6.83 10.78 6.83L10.78 6.83L10.78 6.83Q10.93 6.83 11.09 6.85ZM14.06 7.02L14.06 14.52L12.71 14.52L12.71 7.02L14.06 7.02ZM12.71 4.12L14.06 4.12L14.06 5.30L12.71 5.30L12.71 4.12ZM20.38 7.02L21.77 7.02L19.29 14.52L17.83 14.52L15.47 7.02L16.73 7.02L18.57 13.35L20.38 7.02ZM24.53 7.02L24.53 14.52L23.18 14.52L23.18 7.02L24.53 7.02ZM23.18 4.12L24.53 4.12L24.53 5.30L23.18 5.30L23.18 4.12ZM32.20 9.56L32.20 14.52L31.14 14.52L30.92 13.45L30.92 13.45Q30.71 14.15 30.18 14.39L30.18 14.39L30.18 14.39Q29.64 14.62 28.61 14.62L28.61 14.62L28.61 14.62Q27.92 14.62 27.49 14.49L27.49 14.49L27.49 14.49Q27.05 14.36 26.79 14.04L26.79 14.04L26.79 14.04Q26.53 13.73 26.43 13.27L26.43 13.27L26.43 13.27Q26.33 12.82 26.33 12.10L26.33 12.10L26.33 12.10Q26.33 11.78 26.44 11.53L26.44 11.53L26.44 11.53Q26.56 11.27 26.75 11.09L26.75 11.09L26.75 11.09Q26.95 10.92 27.27 10.79L27.27 10.79L27.27 10.79Q27.60 10.66 27.95 10.58L27.95 10.58L27.95 10.58Q28.29 10.51 28.79 10.46L28.79 10.46L28.79 10.46Q29.29 10.42 29.76 10.40L29.76 10.40L29.76 10.40Q30.23 10.39 30.86 10.39L30.86 10.39L30.86 8.36L30.86 8.36Q30.86 8.01 30.53 7.88L30.53 7.88L30.53 7.88Q30.20 7.75 29.36 7.75L29.36 7.75L29.36 7.75Q28.77 7.75 28.48 7.77L28.48 7.77L28.48 7.77Q28.18 7.80 28.03 7.93L28.03 7.93L28.03 7.93Q27.88 8.07 27.85 8.20L27.85 8.20L27.85 8.20Q27.83 8.33 27.82 8.68L27.82 8.68L27.82 8.68Q27.82 8.81 27.82 8.89L27.82 8.89L26.77 8.85L26.77 8.85Q26.76 8.74 26.76 8.52L26.76 8.52L26.76 8.52Q26.76 8.07 26.89 7.75L26.89 7.75L26.89 7.75Q27.02 7.43 27.23 7.25L27.23 7.25L27.23 7.25Q27.45 7.07 27.82 6.97L27.82 6.97L27.82 6.97Q28.18 6.86 28.55 6.84L28.55 6.84L28.55 6.84Q28.91 6.81 29.45 6.81L29.45 6.81L29.45 6.81Q30.27 6.81 30.78 6.94L30.78 6.94L30.78 6.94Q31.29 7.06 31.62 7.39L31.62 7.39L31.62 7.39Q31.95 7.72 32.08 8.23L32.08 8.23L32.08 8.23Q32.20 8.74 32.20 9.56L32.20 9.56ZM30.86 12.37L30.86 12.37L30.86 11.20L30.86 11.20Q29.51 11.20 28.79 11.31L28.79 11.31L28.79 11.31Q28.06 11.41 27.82 11.59L27.82 11.59L27.82 11.59Q27.58 11.77 27.58 12.10L27.58 12.10L27.58 12.10Q27.58 12.11 27.58 12.14L27.58 12.14L27.58 12.14Q27.58 13.18 27.75 13.43L27.75 13.43L27.75 13.43Q27.92 13.69 28.79 13.69L28.79 13.69L28.79 13.69Q29.54 13.69 30.00 13.51L30.00 13.51L30.00 13.51Q30.47 13.33 30.65 13.05L30.65 13.05L30.65 13.05Q30.83 12.78 30.86 12.37ZM44.78 7.02L46.12 7.02L44.17 14.52L42.92 14.52L41.29 8.82L39.74 14.52L38.36 14.52L36.39 7.02L37.68 7.02L39.03 12.93L40.67 7.02L41.88 7.02L43.42 12.93L44.78 7.02ZM49.01 7.02L49.01 14.52L47.67 14.52L47.67 7.02L49.01 7.02ZM47.67 4.12L49.01 4.12L49.01 5.30L47.67 5.30L47.67 4.12ZM54.14 13.57L54.14 13.57L54.11 14.53L54.11 14.53Q53.54 14.62 53.07 14.62L53.07 14.62L53.07 14.62Q52.58 14.62 52.25 14.51L52.25 14.51L52.25 14.51Q51.93 14.40 51.76 14.16L51.76 14.16L51.76 14.16Q51.60 13.92 51.54 13.63L51.54 13.63L51.54 13.63Q51.47 13.34 51.47 12.89L51.47 12.89L51.47 7.79L50.46 7.79L50.46 7.02L51.47 7.02L51.47 4.89L52.81 4.78L52.81 7.02L54.20 7.02L54.20 7.79L52.81 7.79L52.81 12.43L52.81 12.43Q52.81 13.17 52.89 13.39L52.89 13.39L52.89 13.39Q52.96 13.61 53.28 13.61L53.28 13.61L53.28 13.61Q53.59 13.61 54.14 13.57ZM61.89 10.22L61.89 14.52L60.54 14.52L60.54 9.97L60.54 9.97Q60.54 9.72 60.55 9.34L60.55 9.34L60.55 9.34Q60.56 8.97 60.56 8.85L60.56 8.85L60.56 8.85Q60.56 8.50 60.51 8.32L60.51 8.32L60.51 8.32Q60.46 8.13 60.27 7.99L60.27 7.99L60.27 7.99Q60.09 7.85 59.75 7.80L59.75 7.80L59.75 7.80Q59.42 7.75 58.84 7.75L58.84 7.75L58.84 7.75Q58.56 7.75 58.32 7.78L58.32 7.78L58.32 7.78Q58.08 7.81 57.86 7.89L57.86 7.89L57.86 7.89Q57.64 7.96 57.50 8.09L57.50 8.09L57.50 8.09Q57.37 8.22 57.35 8.39L57.35 8.39L57.35 8.39Q57.26 9.63 57.26 10.61L57.26 10.61L57.26 14.52L55.90 14.52L55.90 4.36L57.26 4.25L57.26 7.59L57.26 7.59Q57.75 6.81 59.29 6.81L59.29 6.81L59.29 6.81Q59.70 6.82 60.02 6.86L60.02 6.86L60.02 6.86Q60.35 6.90 60.60 6.97L60.60 6.97L60.60 6.97Q60.85 7.03 61.04 7.14L61.04 7.14L61.04 7.14Q61.24 7.25 61.37 7.36L61.37 7.36L61.37 7.36Q61.51 7.48 61.61 7.65L61.61 7.65L61.61 7.65Q61.70 7.83 61.76 7.99L61.76 7.99L61.76 7.99Q61.81 8.16 61.84 8.39L61.84 8.39L61.84 8.39Q61.87 8.63 61.88 8.84L61.88 8.84L61.88 8.84Q61.89 9.05 61.89 9.35L61.89 9.35L61.89 9.35Q61.89 9.48 61.89 9.77L61.89 9.77L61.89 9.77Q61.89 10.06 61.89 10.22L61.89 10.22ZM72.27 4.33L72.41 5.39L68.20 5.39L68.20 8.71L71.78 8.71L71.78 9.82L68.20 9.82L68.20 14.52L66.81 14.52L66.81 4.33L72.27 4.33ZM77.18 6.85L77.18 6.85L77.12 7.99L77.12 7.99Q76.86 7.96 76.63 7.96L76.63 7.96L76.63 7.96Q76.15 7.96 75.84 8.05L75.84 8.05L75.84 8.05Q75.54 8.15 75.39 8.38L75.39 8.38L75.39 8.38Q75.24 8.61 75.19 8.91L75.19 8.91L75.19 8.91Q75.13 9.21 75.13 9.71L75.13 9.71L75.13 9.71Q75.13 9.99 75.16 10.53L75.16 10.53L75.16 10.53Q75.18 11.07 75.18 11.30L75.18 11.30L75.18 14.52L73.83 14.52L73.83 7.02L75.06 7.02L75.20 7.86L75.20 7.86Q75.41 7.37 75.84 7.10L75.84 7.10L75.84 7.10Q76.27 6.83 76.87 6.83L76.87 6.83L76.87 6.83Q77.02 6.83 77.18 6.85ZM80.15 7.02L80.15 14.52L78.80 14.52L78.80 7.02L80.15 7.02ZM78.80 4.12L80.15 4.12L80.15 5.30L78.80 5.30L78.80 4.12ZM88.20 10.66L88.20 10.66L88.20 10.66Q87.38 10.75 87.18 10.76L87.18 10.76L83.45 10.76L83.45 10.76Q83.46 11.75 83.51 12.93L83.51 12.93L83.51 12.93Q83.54 13.39 83.90 13.54L83.90 13.54L83.90 13.54Q84.26 13.69 85.30 13.69L85.30 13.69L85.30 13.69Q85.69 13.69 85.97 13.65L85.97 13.65L85.97 13.65Q86.25 13.62 86.42 13.55L86.42 13.55L86.42 13.55Q86.60 13.47 86.70 13.40L86.70 13.40L86.70 13.40Q86.80 13.32 86.84 13.17L86.84 13.17L86.84 13.17Q86.89 13.02 86.91 12.91L86.91 12.91L86.91 12.91Q86.92 12.80 86.93 12.59L86.93 12.59L86.93 12.59Q86.95 12.37 86.97 12.24L86.97 12.24L88.01 12.43L88.01 12.43Q88.00 12.91 87.94 13.24L87.94 13.24L87.94 13.24Q87.89 13.57 87.76 13.82L87.76 13.82L87.76 13.82Q87.63 14.08 87.45 14.22L87.45 14.22L87.45 14.22Q87.27 14.37 86.97 14.46L86.97 14.46L86.97 14.46Q86.67 14.56 86.31 14.59L86.31 14.59L86.31 14.59Q85.95 14.62 85.42 14.62L85.42 14.62L85.42 14.62Q84.73 14.62 84.23 14.54L84.23 14.54L84.23 14.54Q83.72 14.46 83.36 14.35L83.36 14.35L83.36 14.35Q83.00 14.23 82.77 13.97L82.77 13.97L82.77 13.97Q82.54 13.71 82.40 13.47L82.40 13.47L82.40 13.47Q82.27 13.23 82.21 12.76L82.21 12.76L82.21 12.76Q82.15 12.30 82.13 11.92L82.13 11.92L82.13 11.92Q82.11 11.54 82.11 10.87L82.11 10.87L82.11 10.87Q82.11 9.93 82.14 9.40L82.14 9.40L82.14 9.40Q82.16 8.87 82.27 8.34L82.27 8.34L82.27 8.34Q82.38 7.81 82.56 7.57L82.56 7.57L82.56 7.57Q82.75 7.33 83.11 7.13L83.11 7.13L83.11 7.13Q83.47 6.92 83.97 6.87L83.97 6.87L83.97 6.87Q84.46 6.81 85.22 6.81L85.22 6.81L85.22 6.81Q85.74 6.81 86.13 6.84L86.13 6.84L86.13 6.84Q86.51 6.87 86.83 6.97L86.83 6.97L86.83 6.97Q87.15 7.06 87.36 7.18L87.36 7.18L87.36 7.18Q87.57 7.31 87.73 7.55L87.73 7.55L87.73 7.55Q87.89 7.79 87.98 8.04L87.98 8.04L87.98 8.04Q88.06 8.30 88.12 8.72L88.12 8.72L88.12 8.72Q88.17 9.15 88.18 9.58L88.18 9.58L88.18 9.58Q88.20 10.01 88.20 10.66ZM83.46 10.04L83.46 10.04L86.85 10.04L86.85 10.04Q86.84 9.17 86.78 8.44L86.78 8.44L86.78 8.44Q86.75 8.03 86.42 7.89L86.42 7.89L86.42 7.89Q86.09 7.75 85.21 7.75L85.21 7.75L85.21 7.75Q84.23 7.75 83.97 7.85L83.97 7.85L83.97 7.85Q83.86 7.89 83.77 7.97L83.77 7.97L83.77 7.97Q83.69 8.06 83.63 8.22L83.63 8.22L83.63 8.22Q83.58 8.37 83.55 8.51L83.55 8.51L83.55 8.51Q83.51 8.65 83.50 8.89L83.50 8.89L83.50 8.89Q83.48 9.13 83.47 9.27L83.47 9.27L83.47 9.27Q83.47 9.40 83.46 9.67L83.46 9.67L83.46 9.67Q83.46 9.95 83.46 10.04ZM95.95 10.36L95.95 14.52L94.60 14.52L94.60 9.98L94.60 9.98Q94.60 9.54 94.60 9.28L94.60 9.28L94.60 9.28Q94.60 9.02 94.57 8.75L94.57 8.75L94.57 8.75Q94.55 8.48 94.52 8.35L94.52 8.35L94.52 8.35Q94.49 8.22 94.42 8.08L94.42 8.08L94.42 8.08Q94.35 7.95 94.27 7.90L94.27 7.90L94.27 7.90Q94.20 7.85 94.06 7.81L94.06 7.81L94.06 7.81Q93.91 7.77 93.77 7.76L93.77 7.76L93.77 7.76Q93.63 7.75 93.39 7.75L93.39 7.75L93.39 7.75Q92.87 7.75 92.50 7.81L92.50 7.81L92.50 7.81Q92.13 7.87 91.90 7.97L91.90 7.97L91.90 7.97Q91.67 8.07 91.54 8.26L91.54 8.26L91.54 8.26Q91.42 8.44 91.37 8.66L91.37 8.66L91.37 8.66Q91.32 8.87 91.32 9.19L91.32 9.19L91.32 9.19Q91.32 9.37 91.34 9.81L91.34 9.81L91.34 9.81Q91.36 10.25 91.36 10.52L91.36 10.52L91.36 14.52L90.02 14.52L90.02 7.02L91.25 7.02L91.38 7.86L91.38 7.86Q91.55 7.30 92.16 7.05L92.16 7.05L92.16 7.05Q92.77 6.81 93.61 6.81L93.61 6.81L93.61 6.81Q94.01 6.81 94.32 6.86L94.32 6.86L94.32 6.86Q94.62 6.90 94.86 7.02L94.86 7.02L94.86 7.02Q95.10 7.13 95.28 7.27L95.28 7.27L95.28 7.27Q95.45 7.42 95.57 7.65L95.57 7.65L95.57 7.65Q95.69 7.89 95.76 8.13L95.76 8.13L95.76 8.13Q95.84 8.38 95.88 8.75L95.88 8.75L95.88 8.75Q95.92 9.12 95.94 9.48L95.94 9.48L95.94 9.48Q95.95 9.85 95.95 10.36L95.95 10.36ZM103.98 4.03L103.98 14.52L102.75 14.52L102.62 13.58L102.62 13.58Q102.20 14.62 100.44 14.62L100.44 14.62L100.44 14.62Q99.97 14.62 99.60 14.56L99.60 14.56L99.60 14.56Q99.22 14.50 98.95 14.35L98.95 14.35L98.95 14.35Q98.68 14.20 98.49 14.04L98.49 14.04L98.49 14.04Q98.30 13.88 98.17 13.57L98.17 13.57L98.17 13.57Q98.05 13.27 97.98 13.02L97.98 13.02L97.98 13.02Q97.90 12.77 97.87 12.33L97.87 12.33L97.87 12.33Q97.84 11.88 97.83 11.55L97.83 11.55L97.83 11.55Q97.82 11.22 97.82 10.65L97.82 10.65L97.82 10.65Q97.82 10.10 97.84 9.69L97.84 9.69L97.84 9.69Q97.86 9.29 97.91 8.89L97.91 8.89L97.91 8.89Q97.96 8.50 98.04 8.23L98.04 8.23L98.04 8.23Q98.13 7.96 98.27 7.70L98.27 7.70L98.27 7.70Q98.42 7.45 98.62 7.30L98.62 7.30L98.62 7.30Q98.82 7.14 99.10 7.02L99.10 7.02L99.10 7.02Q99.38 6.90 99.74 6.86L99.74 6.86L99.74 6.86Q100.11 6.81 100.56 6.81L100.56 6.81L100.56 6.81Q101.45 6.81 101.93 7.04L101.93 7.04L101.93 7.04Q102.42 7.28 102.63 7.79L102.63 7.79L102.63 4.14L103.98 4.03ZM102.63 12.78L102.63 12.78L102.63 8.79L102.63 8.79Q102.63 8.20 102.27 7.97L102.27 7.97L102.27 7.97Q101.90 7.75 100.88 7.75L100.88 7.75L100.88 7.75Q100.08 7.75 99.70 7.87L99.70 7.87L99.70 7.87Q99.39 7.96 99.28 8.43L99.28 8.43L99.28 8.43Q99.17 8.90 99.17 9.69L99.17 9.69L99.17 9.69Q99.17 10.85 99.21 12.93L99.21 12.93L99.21 12.93Q99.24 13.38 99.58 13.53L99.58 13.53L99.58 13.53Q99.91 13.69 100.88 13.69L100.88 13.69L100.88 13.69Q101.83 13.69 102.21 13.49L102.21 13.49L102.21 13.49Q102.59 13.30 102.63 12.78ZM111.51 12.44L111.51 12.44L111.51 12.44Q111.51 13.10 111.37 13.52L111.37 13.52L111.37 13.52Q111.23 13.94 110.90 14.18L110.90 14.18L110.90 14.18Q110.56 14.43 110.09 14.53L110.09 14.53L110.09 14.53Q109.61 14.62 108.89 14.62L108.89 14.62L108.89 14.62Q108.47 14.62 108.21 14.62L108.21 14.62L108.21 14.62Q107.95 14.61 107.62 14.58L107.62 14.58L107.62 14.58Q107.28 14.55 107.08 14.50L107.08 14.50L107.08 14.50Q106.89 14.44 106.66 14.34L106.66 14.34L106.66 14.34Q106.43 14.24 106.30 14.09L106.30 14.09L106.30 14.09Q106.17 13.93 106.05 13.72L106.05 13.72L106.05 13.72Q105.94 13.51 105.89 13.22L105.89 13.22L105.89 13.22Q105.84 12.93 105.84 12.56L105.84 12.56L106.90 12.28L106.90 12.28Q106.96 13.06 107.04 13.27L107.04 13.27L107.04 13.27Q107.17 13.55 107.56 13.62L107.56 13.62L107.56 13.62Q107.85 13.69 108.79 13.69L108.79 13.69L108.79 13.69Q109.36 13.69 109.64 13.63L109.64 13.63L109.64 13.63Q109.92 13.58 110.01 13.44L110.01 13.44L110.01 13.44Q110.28 13.21 110.28 11.90L110.28 11.90L110.28 11.90Q110.28 11.70 110.20 11.56L110.20 11.56L110.20 11.56Q110.12 11.42 110.00 11.35L110.00 11.35L110.00 11.35Q109.89 11.28 109.68 11.23L109.68 11.23L109.68 11.23Q109.47 11.18 109.30 11.16L109.30 11.16L109.30 11.16Q109.14 11.14 108.86 11.12L108.86 11.12L108.86 11.12Q108.59 11.09 108.42 11.07L108.42 11.07L108.42 11.07Q107.93 11.01 107.61 10.96L107.61 10.96L107.61 10.96Q107.30 10.91 106.98 10.81L106.98 10.81L106.98 10.81Q106.65 10.71 106.47 10.55L106.47 10.55L106.47 10.55Q106.29 10.40 106.14 10.17L106.14 10.17L106.14 10.17Q105.99 9.93 105.93 9.59L105.93 9.59L105.93 9.59Q105.87 9.26 105.87 8.79L105.87 8.79L105.87 8.79Q105.87 8.30 105.97 7.96L105.97 7.96L105.97 7.96Q106.07 7.62 106.27 7.39L106.27 7.39L106.27 7.39Q106.47 7.16 106.81 7.04L106.81 7.04L106.81 7.04Q107.16 6.91 107.59 6.86L107.59 6.86L107.59 6.86Q108.02 6.81 108.64 6.81L108.64 6.81L108.64 6.81Q109.03 6.81 109.28 6.82L109.28 6.82L109.28 6.82Q109.53 6.83 109.83 6.87L109.83 6.87L109.83 6.87Q110.13 6.90 110.31 6.97L110.31 6.97L110.31 6.97Q110.50 7.04 110.68 7.16L110.68 7.16L110.68 7.16Q110.87 7.29 110.97 7.47L110.97 7.47L110.97 7.47Q111.08 7.65 111.14 7.91L111.14 7.91L111.14 7.91Q111.21 8.17 111.21 8.50L111.21 8.50L110.29 8.78L110.29 8.78Q110.26 8.52 110.24 8.36L110.24 8.36L110.24 8.36Q110.22 8.21 110.13 8.08L110.13 8.08L110.13 8.08Q110.05 7.95 109.96 7.90L109.96 7.90L109.96 7.90Q109.87 7.84 109.66 7.80L109.66 7.80L109.66 7.80Q109.44 7.76 109.22 7.75L109.22 7.75L109.22 7.75Q109.01 7.75 108.60 7.75L108.60 7.75L108.60 7.75Q107.72 7.75 107.41 7.92L107.41 7.92L107.41 7.92Q107.10 8.09 107.10 8.49L107.10 8.49L107.10 9.19L107.10 9.19Q107.10 9.64 107.37 9.76L107.37 9.76L107.37 9.76Q107.64 9.88 108.81 10.03L108.81 10.03L108.81 10.03Q108.94 10.05 109.00 10.06L109.00 10.06L109.00 10.06Q109.47 10.11 109.75 10.16L109.75 10.16L109.75 10.16Q110.02 10.21 110.33 10.28L110.33 10.28L110.33 10.28Q110.64 10.36 110.80 10.47L110.80 10.47L110.80 10.47Q110.96 10.58 111.12 10.74L111.12 10.74L111.12 10.74Q111.28 10.90 111.35 11.14L111.35 11.14L111.35 11.14Q111.43 11.38 111.47 11.70L111.47 11.70L111.47 11.70Q111.51 12.01 111.51 12.44Z\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  \"data-v-423bf9ae\": \"\",\n  id: \"9461365d-babf-41d3-ac0e-a99186f9445c\",\n  transform: \"matrix(1.449298901312486,0,0,1.449298901312486,243.62133360045505,-23.49071253728532)\",\n  stroke: \"none\",\n  fill: \"url(#76bbbe1a-ebe3-47ac-8e67-b6447aab61a1)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M34.748 29.849c-6.062 0-11.379 4.274-11.379 9.146 0 2.06 1.513 3.498 3.68 3.498 2.515 0 3.284-1.652 3.963-3.111.725-1.556 1.35-2.902 4.008-2.902 2.357 0 3.654 1.137 3.654 3.198 0 1.771-1.583 2.992-3.416 4.405-2.136 1.646-4.556 3.514-4.556 6.708 0 1.83 1.274 3.772 3.635 3.772 2.64 0 3.234-1.567 3.713-2.827.18-.476.35-.925.616-1.313.367-.54 1.289-1.194 2.263-1.888 2.578-1.836 6.107-4.35 6.107-8.857 0-7.255-6.62-9.829-12.288-9.829zM34.519 56.086a4.459 4.459 0 0 0-4.454 4.453 4.46 4.46 0 0 0 4.454 4.455 4.46 4.46 0 0 0 4.455-4.455 4.459 4.459 0 0 0-4.455-4.453zM63.457 51.732c-1.512 0-2.741 1.229-2.741 2.741s1.229 2.742 2.741 2.742c1.511 0 2.74-1.23 2.74-2.742s-1.229-2.741-2.74-2.741z\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 71.001,\n  cy: 54.474,\n  r: 2.742\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M78.545 51.732c-1.511 0-2.742 1.229-2.742 2.741s1.231 2.742 2.742 2.742 2.741-1.23 2.741-2.742-1.23-2.741-2.741-2.741z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M92.159 65.273c5.15-9.732 3.165-21.549-4.878-28.832-4.31-3.904-9.912-6.054-15.772-6.054-2.988 0-5.929.553-8.738 1.644l-.083.034a31.907 31.907 0 0 0-3.685-4.956c-6.005-6.633-14.528-10.437-23.384-10.437-7.582 0-14.828 2.781-20.403 7.83C4.851 33.89 2.3 49.681 9.095 62.161l-2.753 9.224a2.89 2.89 0 0 0 .625 2.754 2.904 2.904 0 0 0 2.679.894l9.41-1.821c5.217 3.586 11.534 5.559 17.82 5.559 6.512 0 12.713-2.017 17.937-5.831l.388-.284a23.432 23.432 0 0 0 15.368 5.706c4.748 0 9.533-1.461 13.511-4.121l6.756 1.309a2.878 2.878 0 0 0 3.305-3.648l-1.982-6.629zm-55.285 7.742c-5.51 0-10.986-1.834-15.421-5.164a2.929 2.929 0 0 0-2.274-.524l-5.965 1.154 1.747-5.853a2.882 2.882 0 0 0-.288-2.301c-6.202-10.359-4.349-23.631 4.405-31.559 4.515-4.089 10.389-6.341 16.541-6.341 7.233 0 14.202 3.115 19.118 8.545a26.16 26.16 0 0 1 2.873 3.827 24.46 24.46 0 0 0-4.161 3.645c-7.486 8.268-8.47 20.407-2.393 29.52.088.131.182.258.273.388l-.094.067c-4.193 3.008-9.16 4.596-14.361 4.596zm49.423-7.266l.969 3.247-3.3-.64a2.925 2.925 0 0 0-2.275.524 18.635 18.635 0 0 1-11.123 3.725c-4.428 0-8.656-1.62-11.905-4.562a16.6 16.6 0 0 1-.47-.446c-1-.976-1.881-2.067-2.619-3.245-4.29-6.849-3.408-15.915 2.142-22.045a18.888 18.888 0 0 1 7.296-4.971 18.354 18.354 0 0 1 6.498-1.193c4.43 0 8.659 1.621 11.91 4.565 6.306 5.709 7.638 15.273 3.166 22.74a2.877 2.877 0 0 0-.289 2.301z\"\n}));\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"data-v-423bf9ae\": \"\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 631.6714101231761 163\",\n    className: \"iconAbove\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, /*#__PURE__*/React.createElement(\"defs\", {\n    \"data-v-423bf9ae\": \"\"\n  }, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    \"data-v-423bf9ae\": \"\",\n    gradientTransform: \"rotate(25)\",\n    id: \"76bbbe1a-ebe3-47ac-8e67-b6447aab61a1\",\n    x1: \"0%\",\n    y1: \"0%\",\n    x2: \"100%\",\n    y2: \"0%\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    \"data-v-423bf9ae\": \"\",\n    offset: \"0%\",\n    style: {\n      stopColor: \"rgb(9, 120, 166)\",\n      stopOpacity: 1\n    }\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    \"data-v-423bf9ae\": \"\",\n    offset: \"100%\",\n    style: {\n      stopColor: \"rgb(251, 148, 71)\",\n      stopOpacity: 1\n    }\n  }))), _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.a869ca61.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport {ReactComponent as ReactLogo} from \"../static/logo.svg\";\n\nconst Logo = () => {\n  return <ReactLogo />;\n};\nexport default Logo;\n","import React, { useEffect } from \"react\";\nimport {\n  Card,\n  Button,\n  Container,\n  Row,\n  Col,\n} from \"react-bootstrap\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport NoSleep from \"nosleep.js\";\n\nimport Join from \"./components/Join\";\nimport Host from \"./components/Host\";\nimport JoinInput from \"./components/JoinInput\";\nimport { cleanUri } from \"./utils/helpers\";\nimport Logo from \"./components/Logo.js\";\nimport { setHost } from \"./redux/actions\";\n\nconst addAlertUserListener = () => {\n  if (process.env.NODE_ENV === \"production\") {\n    const alertUser = (e) => {\n      e.preventDefault();\n      e.returnValue = \"\";\n    };\n    window.addEventListener(\"beforeunload\", alertUser);\n    return () => {\n      window.removeEventListener(\"beforeunload\", alertUser);\n    };\n  }\n};\n\nconst stopSleep = () => {\n  // Stop the screen from going to sleep\n  const noSleep = new NoSleep();\n  document.addEventListener(\"click\", function enableNoSleep() {\n    document.removeEventListener(\"click\", enableNoSleep, false);\n    try {\n      noSleep.enable();\n    } catch (error) {\n      console.error(error);\n    }\n  }, false);\n};\n\nconst App = () => {\n  const dispatch = useDispatch();\n\n  // Clean the url in the browser bar.\n  // This might need to go away if I ever want to auto-join from a fragment in the url\n  window.history.replaceState({}, document.title, cleanUri());\n\n  useEffect(addAlertUserListener, []);\n\n  const player = useSelector(state => state.user.player);\n  const host = useSelector(state => state.user.host);\n\n  let ui;\n  if (player) {\n    stopSleep();\n    ui = <Join {...player}/>;\n  } else if (host) {\n    stopSleep();\n    ui = <Host roomId={host.roomId}/>;\n  } else {\n    ui = <>\n      <h4>Start a new trivia game with friends!</h4>\n      <Button size=\"lg\" variant=\"primary\" onClick={() => dispatch(setHost())}>Start</Button>\n      <h4 className=\"pt-5\">Join someone else's game</h4>\n      <JoinInput />\n    </>;\n  }\n\n  return (\n    <Container fluid=\"md\" className={\"pt-4\"}>\n      <Row>\n        <Col>\n          <div className=\"logo mx-auto p-5\">\n            <Logo />\n          </div>\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n          <Card className=\"text-center\">\n            <Card.Body>\n              {ui}\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default App;\n","import { createMiddleware } from \"redux-beacon\";\nimport GoogleAnalytics, { trackEvent } from \"@redux-beacon/google-analytics\";\nimport logger from \"@redux-beacon/logger\"; // optional\nimport { SET_CATEGORY, SET_USER_TYPE } from \"./constants\";\n\n// Match the event definition to a Redux action:\nconst eventsMap = {};\neventsMap[SET_USER_TYPE] = trackEvent(action => ({\n  category: \"User\",\n  action: action.payload.type,\n}));\neventsMap[SET_CATEGORY] = trackEvent(action => ({\n  category: \"Category\",\n  action: \"selected\",\n  label: action.category.name,\n}));\n\n// Create the middleware\nconst ga = GoogleAnalytics();\nexport const gaMiddleware = createMiddleware(eventsMap, ga, { logger });\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport { render } from \"react-dom\";\n\nimport * as Sentry from \"@sentry/react\";\nimport { Integrations } from \"@sentry/tracing\";\n\nimport { createStore, applyMiddleware } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport rootReducer from \"./redux/reducers\";\n\nimport \"./index.css\";\nimport App from \"./App\";\nimport { gaMiddleware } from \"./redux/tracking\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nconst reactDevTool = (process.env.NODE_ENV !== \"production\" && window.__REDUX_DEVTOOLS_EXTENSION__)\n  && window.__REDUX_DEVTOOLS_EXTENSION__();\n\nconst store = createStore(\n  rootReducer,\n  reactDevTool,\n  applyMiddleware(gaMiddleware),\n);\n\nSentry.init({\n  dsn: \"https://400b3d8320a34a5581033ea92e0a0285@o208232.ingest.sentry.io/5711082\",\n  integrations: [new Integrations.BrowserTracing()],\n\n  // Set tracesSampleRate to 1.0 to capture 100%\n  // of transactions for performance monitoring.\n  // We recommend adjusting this value in production\n  tracesSampleRate: 1.0,\n});\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\"),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}